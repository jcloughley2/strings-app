// ============================================================================
// EMBEDDED VARIABLES STYLING
// ============================================================================
// This file contains all styling for embedded variables as they appear
// in the string canvas. Edit these styles to customize the appearance of
// string variables and conditional variables.
// ============================================================================

// ----------------------------------------------------------------------------
// BASE COLORS - Edit these to change the entire color scheme
// ----------------------------------------------------------------------------
// String variables (currently purple, but change to any color you want)
$string-var-color: blue; // Base border color for string variables
$string-text-color: black;     // Text color for string variables

// Conditional variables (currently orange, but change to any color you want)
$conditional-var-color: gold; // Base border color for conditional variables
$conditional-text-color: black;     // Text color for conditional variables

// ----------------------------------------------------------------------------
// TINT/SHADE FUNCTIONS
// ----------------------------------------------------------------------------
// Tint/Shade functions using mix() for solid colors (no transparency)
// Based on: https://css-tricks.com/snippets/sass/tint-shade-functions/
@function tint($color, $percentage) {
  @return mix(white, $color, $percentage);
}

@function shade($color, $percentage) {
  @return mix(black, $color, $percentage);
}

// ----------------------------------------------------------------------------
// STRING VARIABLES
// ----------------------------------------------------------------------------
// These styles apply to regular string variables embedded in other strings.
// The system uses progressive tinting based on same-type nesting depth.
// Tinting only increases when a string variable is nested within another string.
// When a string variable is nested within a conditional variable, tinting resets to 0.
// ----------------------------------------------------------------------------

// Base styles for all string variables (all depth levels)
[class*="embedded-var-string-"] {
  color: $string-text-color;
  border-color: $string-var-color; // Always base color
  padding: 0 0 4px;
}

// Depth-specific hover backgrounds only
.embedded-var-string-0:hover { background-color: tint($string-var-color, 70%); } // Very light
.embedded-var-string-1:hover { background-color: tint($string-var-color, 60%); } // Slightly darker
.embedded-var-string-2:hover { background-color: tint($string-var-color, 50%); } // Medium
.embedded-var-string-3:hover { background-color: tint($string-var-color, 40%); } // Darker
.embedded-var-string-4:hover { background-color: tint($string-var-color, 30%); } // Darkest

// ----------------------------------------------------------------------------
// CONDITIONAL VARIABLES
// ----------------------------------------------------------------------------
// These styles apply to conditional variables embedded in other strings.
// The system uses progressive tinting based on same-type nesting depth.
// Tinting only increases when a conditional variable is nested within another conditional.
// When a conditional variable is nested within a string variable, tinting resets to 0.
// ----------------------------------------------------------------------------

// Base styles for all conditional variables (all depth levels)
[class*="embedded-var-conditional-"] {
  color: $conditional-text-color;
  border-color: $conditional-var-color; // Always base color
  padding: 0 8px 4px;
}

// Depth-specific hover backgrounds only
.embedded-var-conditional-0:hover { background-color: tint($conditional-var-color, 70%); } // Very light
.embedded-var-conditional-1:hover { background-color: tint($conditional-var-color, 60%); } // Slightly darker
.embedded-var-conditional-2:hover { background-color: tint($conditional-var-color, 50%); } // Medium
.embedded-var-conditional-3:hover { background-color: tint($conditional-var-color, 40%); } // Darker
.embedded-var-conditional-4:hover { background-color: tint($conditional-var-color, 30%); } // Darkest

// ----------------------------------------------------------------------------
// SHARED BASE STYLES
// ----------------------------------------------------------------------------
// Common styles applied to all embedded variables regardless of type
// ----------------------------------------------------------------------------

.embedded-var {
  // Layout
  border-width: 0px 0px 4px;
  display: inline-block;
  margin-left: 0px; // ml-1
  border-style: solid;
  border-radius: 0; // rounded
  box-sizing: border-box;
  line-height: 24px;

  
  // Interaction
  cursor: pointer;
  transition-property: color, background-color, border-color;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
  
  // Typography
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
}

// ----------------------------------------------------------------------------
// BADGE MODE STYLES
// ----------------------------------------------------------------------------
// When "Show Variables" mode is enabled, variables appear as badges
// instead of showing their resolved content
// ----------------------------------------------------------------------------

.embedded-var-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem; // gap-1
  margin-left: 0.25rem; // mx-1
  margin-right: 0.25rem;
  
  // Badge-specific styling
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace; // font-mono
  font-size: 0.75rem; // text-xs
}

// String badge variant
.embedded-var-badge-string {
  @extend .embedded-var-badge;
  background-color: tint($string-var-color, 80%);
  color: $string-text-color;
  border-color: $string-var-color;
  
  &:hover {
    background-color: tint($string-var-color, 70%);
  }
}

// Conditional badge variant
.embedded-var-badge-conditional {
  @extend .embedded-var-badge;
  background-color: tint($conditional-var-color, 80%);
  color: $conditional-text-color;
  border-color: $conditional-var-color;
  
  &:hover {
    background-color: tint($conditional-var-color, 70%);
  }
}

// ----------------------------------------------------------------------------
// USAGE NOTES
// ----------------------------------------------------------------------------
// To use these styles in your component:
//
// 1. Import this SCSS file in your component or global styles
// 2. Apply the appropriate classes:
//    - For string variables: .embedded-var .embedded-var-string-{0-4}
//    - For conditional variables: .embedded-var .embedded-var-conditional-{0-4}
//    - For badge mode: .embedded-var-badge-{string|conditional}
//
// Example:
//   <span className="embedded-var embedded-var-string-0">
//     Variable content here
//   </span>
//
// IMPORTANT: The depth classes (0-4) are based on SAME-TYPE nesting depth:
// - Depth 0: Base color (no tinting) - used when variable is first of its type
// - Depth 1-4: Progressive tinting - used when same type is nested within itself
// - When a string variable is nested in a conditional variable (or vice versa), 
//   the depth resets to 0 because the type changed
//
// Example nesting:
//   Parent string (no color) >
//     String var (depth 0) >
//       Conditional var (depth 0, type changed) >
//         Conditional var (depth 1, same type) >
//           String var (depth 0, type changed) >
//             String var (depth 1, same type) >
//               String var (depth 2, same type)
// ----------------------------------------------------------------------------

